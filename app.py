import streamlit as st

st.set_page_config(page_title="나와 어울리는 영화는?", page_icon="🎬", layout="centered")

# 제목 & 소개
st.title("🎬 나와 어울리는 영화는?")
st.write("5가지 질문에 답하면, 당신의 영화 취향 성향을 바탕으로 어울리는 영화 타입을 찾아드려요! 🎞️🍿")
st.caption("※ 지금은 화면/흐름만 구현되어 있고, 결과 분석(API 연동)은 다음 시간에 붙일 예정입니다.")

st.divider()

# 질문 & 선택지 (장르 성향을 반영)
questions = [
    {
        "q": "Q1. 시험이 끝난 날, 드디어 하루가 비었다. 지금 가장 하고 싶은 건?",
        "options": [
            "A. 잔잔한 음악 틀어두고 카페에 앉아 하루를 정리한다 (로맨스/드라마)",
            "B. 친구들이랑 즉흥 여행이나 액티비티를 바로 잡는다 (액션/어드벤처)",
            "C. 집에서 영화·드라마 몰아보며 다른 세계로 도피한다 (SF/판타지)",
            "D. 아무 생각 안 나게 웃긴 콘텐츠부터 찾아본다 (코미디)",
        ],
    },
    {
        "q": "Q2. 팀플이 끝났을 때, 당신이 가장 중요하게 생각하는 건?",
        "options": [
            "A. 과정에서 서로 상처받지 않았는지, 분위기가 좋았는지 (로맨스/드라마)",
            "B. 결과물의 완성도와 성과 (액션/어드벤처)",
            "C. 아이디어의 새로움과 컨셉의 독창성 (SF/판타지)",
            "D. 회의하면서 웃긴 에피소드가 남았는지 (코미디)",
        ],
    },
    {
        "q": "Q3. 새 학기가 시작됐다. 당신이 은근히 기대하는 건?",
        "options": [
            "A. 사람들과 자연스럽게 가까워지는 순간들 (로맨스/드라마)",
            "B. 새로운 도전, 바빠질수록 살아있다는 느낌 (액션/어드벤처)",
            "C. 완전히 새로운 환경과 세계관 같은 전공/수업 (SF/판타지)",
            "D. 예상치 못한 웃긴 사람들과의 만남 (코미디)",
        ],
    },
    {
        "q": "Q4. 영화 속 주인공이 된다면, 이 중 가장 끌리는 역할은?",
        "options": [
            "A. 관계 속에서 성장하고 감정을 깊이 겪는 인물 (로맨스/드라마)",
            "B. 위기마다 몸으로 돌파하는 해결사 (액션/어드벤처)",
            "C. 세계의 비밀을 파헤치는 선택받은 존재 (SF/판타지)",
            "D. 사건을 더 꼬이게 만들지만 결국 분위기를 살리는 인물 (코미디)",
        ],
    },
    {
        "q": "Q5. 힘든 하루 끝, 영화 한 편을 고른다면 기준은?",
        "options": [
            "A. 여운이 오래 남고 생각할 거리를 주는 이야기 (로맨스/드라마)",
            "B. 속도감 있고 몰입해서 스트레스가 풀리는 전개 (액션/어드벤처)",
            "C. 현실을 잠시 잊게 만드는 설정과 비주얼 (SF/판타지)",
            "D. 그냥 아무 생각 없이 웃을 수 있는지 (코미디)",
        ],
    },
]

# 사용자 응답 저장
answers = []

for idx, item in enumerate(questions, start=1):
    st.subheader(f"질문 {idx}")
    choice = st.radio(
        item["q"],
        item["options"],
        index=None,  # 아무 것도 선택 안 한 상태 허용
        key=f"q{idx}",
    )
    answers.append(choice)
    st.write("")  # spacing

st.divider()

# 결과 보기 버튼
if st.button("결과 보기", type="primary", use_container_width=True):
    # 미선택 질문 체크(선택 안 했으면 안내)
    if any(a is None for a in answers):
        st.warning("모든 질문에 답해줘야 결과를 볼 수 있어요! 😊")
    else:
        st.info("분석 중...")
